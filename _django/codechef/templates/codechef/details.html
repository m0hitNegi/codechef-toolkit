{% extends "codechef/base.html" %}

{% block body %}
    <div class="container" style="margin-top:60px;">
        <ul class="list-group text-center">
            <li class="list-group-item list-group-item-success">
                <strong>Top
                    {% if cit %} Cities {% endif %}
                    {% if stat %} States {% endif %}
                    {% if inst %} Institutions {% endif %}
                </strong>
            </li>
        </ul>
        <ul class="list-group text-center">
            <li class="list-group">
                <span class="badge badge-pill">
                    {% if cit %}
                        {% for citi in cit %}
                            <a style="overflow:hidden;" href="#" class="list-group-item list-group-item-action list-group-item-info">
                                <strong>{{ citi }}</strong>
                            </a>
                        {% endfor %}
                    {% endif %}
                    {% if stat %}
                        {% for states in stat %}
                            <a style="overflow:hidden;" href="#" class="list-group-item list-group-item-action list-group-item-info">
                                <strong>{{ states }}</strong>
                            </a>
                        {% endfor %}
                    {% endif %}
                    {% if inst %}
                        {% for instit in inst %}
                            <a style="overflow:hidden;" href="#" class="list-group-item list-group-item-action list-group-item-info">
                                <strong>{{ instit }}</strong>
                            </a>
                        {% endfor %}
                    {% endif %}
                </span>
            </li>
        </ul>
        <div class="text-center">
            <ul class="pagination">
                {% if cit %}
                    {% if cit.has_previous %}
                        <li class="page-item">
                            <a href="?page=1" class="page-link">&laquo; first</a>
                        </li>
                        <li class="page-item">
                            <a href="?page={{ cit.previous_page_number }}" class="page-link">previous</a>
                        </li>
                    {% else %}
                        <li class="page-item disabled">
                            <a href="#" class="page-link">&laquo; first</a>
                        </li>
                        <li class="page-item disabled">
                            <a href="#" class="page-link">previous</a>
                        </li>
                    {% endif %}

                    {% for now_page in page_range %}
                        {% if cit.number == now_page %}
                            <li class="page-item">
                                <a href="?page={{ now_page }}" class="page-link">{{ now_page }}</a>
                            </li>
                        {% else %}
                            <li class="page-item">
                                <a href="?page={{ now_page }}" class="page-link">{{ now_page }}</a>
                            </li>
                        {% endif %}
                    {% endfor %}

                    {% if cit.has_next %}
                        <li class="page-item">
                            <a href="?page={{ cit.next_page_number }}" class="page-link">next</a>
                        </li>
                        <li class="page-item">
                            <a href="?page={{ cit.paginator.num_pages }}" class="page-link">last &raquo;</a>
                        </li>
                    {% else %}
                        <li class="page-item disabled">
                            <a href="" class="page-link">next</a>
                        </li>
                        <li class="page-item disabled">
                            <a href="" class="page-link">last &raquo;</a>
                        </li>
                    {% endif %}
                {% elif stat %}
                    {% if stat.has_previous %}
                        <li class="page-item">
                            <a href="?page=1" class="page-link">&laquo; first</a>
                        </li>
                        <li class="page-item">
                            <a href="?page={{ stat.previous_page_number }}" class="page-link">previous</a>
                        </li>
                    {% else %}
                        <li class="page-item disabled">
                            <a href="#" class="page-link">&laquo; first</a>
                        </li>
                        <li class="page-item disabled">
                            <a href="#" class="page-link">previous</a>
                        </li>
                    {% endif %}

                    {% for now_page in page_range %}
                        {% if stat.number == now_page %}
                            <li class="page-item">
                                <a href="?page={{ now_page }}" class="page-link">{{ now_page }}</a>
                            </li>
                        {% else %}
                            <li class="page-item">
                                <a href="?page={{ now_page }}" class="page-link">{{ now_page }}</a>
                            </li>
                        {% endif %}
                    {% endfor %}

                    {% if stat.has_next %}
                        <li class="page-item">
                            <a href="?page={{ stat.next_page_number }}" class="page-link">next</a>
                        </li>
                        <li class="page-item">
                            <a href="?page={{ stat.paginator.num_pages }}" class="page-link">last &raquo;</a>
                        </li>
                    {% else %}
                        <li class="page-item disabled">
                            <a href="#" class="page-link">next</a>
                        </li>
                        <li class="page-item disabled">
                            <a href="#" class="page-link">last &raquo;</a>
                        </li>
                    {% endif %}
                {% else %}
                    {% if inst.has_previous %}
                        <li class="page-item">
                            <a href="?page=1" class="page-link">&laquo; first</a>
                        </li>
                        <li class="page-item">
                            <a href="?page={{ inst.previous_page_number }}" class="page-link">previous</a>
                        </li>
                    {% else %}
                        <li class="page-item disabled">
                            <a href="#" class="page-link">&laquo; first</a>
                        </li>
                        <li class="page-item disabled">
                            <a href="#" class="page-link">previous</a>
                        </li>
                    {% endif %}

                    {% for now_page in page_range %}
                        {% if inst.number == now_page %}
                            <li class="page-item">
                                <a href="?page={{ now_page }}" class="page-link">{{ now_page }}</a>
                            </li>
                        {% else %}
                            <li class="page-item">
                                <a href="?page={{ now_page }}" class="page-link">{{ now_page }}</a>
                            </li>
                        {% endif %}
                    {% endfor %}

                    {% if inst.has_next %}
                        <li class="page-item">
                            <a href="?page={{ inst.next_page_number }}" class="page-link">next</a>
                        </li>
                        <li class="page-item">
                            <a href="?page={{ inst.paginator.num_pages }}" class="page-link">last &raquo;</a>
                        </li>
                    {% else %}
                        <li class="page-item disabled">
                            <a href="#" class="page-link">next</a>
                        </li>
                        <li class="page-item disabled">
                            <a href="#" class="page-link">last &raquo;</a>
                        </li>
                    {% endif %}
                {% endif %}
            </ul>
        </div>
    </div>
{% endblock %}